\begin{tikzpicture}

	\tikzstyle{nodo}=[circle, draw, minimum size=1.25cm]
	\tikzstyle{upw}=[dashed, red, ->, line width = 1pt]
	\tikzstyle{cnx}=[->, decoration={markings,mark=at position 1 with {\arrow[scale=2]{>}}}, postaction={decorate},]

	\coordinate (l_0) at (0.0, 5.5);
	\coordinate (l_1) at (6.0, 5.5);
	\coordinate (l_2) at (12, 5.5);

	\coordinate (f_1_1) at (0, 3.5); % CAPA ENTRADA
	\coordinate (f_1_2) at (0, 0); % CAPA ENTRADA
	\coordinate (f_1_3) at (0, -3.5); % CAPA ENTRADA
	\coordinate (f_2_1) at (6.0, 2.7); % CAPA OCULTA 1
	\coordinate (f_2_2) at (6.0, -2.7); % CAPA OCULTA 1
	\coordinate (f_3_1) at (12, 0); % CAPA SALIDA
	\coordinate (y) at (14, 0); % CAPA SALIDA

	\node[] (l_0) at (l_0) {$L - 1$};
	\node[] (l_1) at (l_1) {$L$};
	\node[] (l_2) at (l_2) {$L + 1$};

	\node[nodo, font=\small] (f_1_1) at (f_1_1) {$f_i(e_i)$}; % CAPA ENTRADA
	\node[nodo] (f_1_2) at (f_1_2) {}; % CAPA ENTRADA
	\node[nodo] (f_1_3) at (f_1_3) {}; % CAPA ENTRADA
	\node[nodo, font=\small] (f_2_1) at (f_2_1) {$f_j(e_j)$}; % CAPA OCULTA 1
	\node[nodo] (f_2_2) at (f_2_2) {}; % CAPA OCULTA 1
	\node[nodo] (f_3_1) at (f_3_1) {$f_k(e_k)$}; % CAPA SALIDA
	\node[] (y) at (y) {$y$}; % CAPA SALIDA

	\node[left of=f_1_1, node distance=1.4cm] {\LARGE $\cdots$};
	\node[left of=f_1_2, node distance=1.4cm] {\LARGE $\cdots$};
	\node[left of=f_1_3, node distance=1.4cm] {\LARGE $\cdots$};

	\draw[cnx] (f_1_1) -- node[pos=0.65, above] (w_1_1) {$w$} (f_2_1);
	\draw[cnx] (f_1_2) -- node[pos=0.65, above] (w_1_2) {} (f_2_1);
	\draw[cnx] (f_1_3) -- node[pos=0.65, above] (w_1_3) {} (f_2_1);
	\draw[cnx] (f_1_1) -- node[pos=0.65, below] (w_2_1) {$w$} (f_2_2);
	\draw[cnx] (f_1_2) node[below right of=f_1_2] {} -- node[pos=0.6, below] (w_2_2) {} (f_2_2);
	\draw[cnx] (f_1_3) -- node[pos=0.6, below] (w_2_3) {} (f_2_2);
	\draw[cnx] (f_2_1) node[left of=f_2_1] {} -- node[pos=0.5, above right] (w_j_k) {$w$} (f_3_1);
	\draw[cnx] (f_2_2) -- node[pos=0.5, below right] {} (f_3_1);
	\draw[cnx] (f_3_1) -- node[pos=0.5, below right] {} (y);

	\node[above right of=f_2_1, node distance=1.3cm, font=\scriptsize] {$e_{j} = \sum w_{ij}a_i$};



	\node[blue, above=0.2cm of f_3_1] (e_i) {$\delta^{l+1}_{k}$};
	\node[blue, right of=f_2_1] (e_2_1_i) {$\delta^{l}_{j}$};
	\node[blue, right of=f_2_2] (e_2_2_i) {$\delta^{l}$};
	\node[blue, above right=0.3cm and -1.0cm of f_1_1] (e_1_2_i) {$\delta^{l-1} = f^{'}_{i}(a_i)\sum_{j}w^{l-1}_{ij}\left(f^{'}_{j}(a_{j})\sum_{k}w^{l}_{jk}\delta^{l+1}_{k}\right)$};
	%\node[blue, above right=0.3cm and 0.0cm of f_1_1] (e_1_2_i) {$\delta^{l-1} = f'(a_i)\sum_{j}w^{l-1}_{ij}\delta^{l}_{j}$};

	\draw[upw, blue] (y) to[bend right=40] node[right]{$f'(y)$} (e_i);
	\draw[upw, blue] (f_3_1) to[bend right=10] node[above right, pos=0.7]{$f^{'}_{j}(a_{j})\sum_{k}w^{l}_{jk}\delta^{l+1}_{k}$} (e_2_1_i);
	%\draw[upw, blue] (f_3_1) to[bend left=10] (e_2_2_i);

	\draw[upw, blue] (f_2_1) to[bend right=5] (e_1_2_i);
	\draw[upw, blue] (f_2_2) to[bend right=5] (e_1_2_i);

\end{tikzpicture}
